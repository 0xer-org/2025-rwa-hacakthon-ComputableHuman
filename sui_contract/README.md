# Computable Human SBT æ™ºèƒ½åˆç´„

é€™æ˜¯ä¸€å€‹ Sui Move æ™ºèƒ½åˆç´„ï¼Œå¯¦ç¾äº†åŸºæ–¼ 16x16 çŸ©é™£çš„éˆé­‚ç¶å®šä»£å¹£ï¼ˆSBTï¼‰ç³»çµ±ã€‚

## åŠŸèƒ½ç‰¹è‰²

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½
- **çŸ©é™£é©—è­‰**ï¼šé©—è­‰è¼¸å…¥çš„ 16x16 çŸ©é™£æ ¼å¼
- **SBT é‘„é€ **ï¼šç‚ºæ–°ç”¨æˆ¶é‘„é€ éˆé­‚ç¶å®šä»£å¹£
- **SBT æ›´æ–°**ï¼šç‚ºç¾æœ‰ç”¨æˆ¶æ›´æ–° SBTï¼ˆæ›¿æ›èˆŠçš„ï¼‰
- **ç‹€æ…‹è¿½è¹¤**ï¼šè¿½è¹¤æ‰€æœ‰ç”¨æˆ¶çš„ SBT ç‹€æ…‹

### ğŸ“Š çŸ©é™£è¦ç¯„
- **å°ºå¯¸**ï¼š16x16 = 256 å€‹å…ƒç´ 
- **æ•¸å€¼ç¯„åœ**ï¼šæ¯å€‹å…ƒç´ ç‚º 0-255 çš„æ­£æ•´æ•¸ï¼ˆu8 é¡å‹ï¼‰
- **æ ¼å¼**ï¼š`vector<vector<u8>>`

### ğŸ’° Gas è²»ç”¨
- æ‰€æœ‰æ“ä½œç”±ç”¨æˆ¶æ”¯ä»˜ gas è²»ç”¨
- é‘„é€ æ–° SBTï¼šç´„éœ€è¦ä¸­ç­‰ gas
- æ›´æ–°ç¾æœ‰ SBTï¼šç´„éœ€è¦ä¸­ç­‰ gas

## åˆç´„çµæ§‹

### ä¸»è¦çµæ§‹é«”

#### `MatrixSBT`
```move
struct MatrixSBT has key, store {
    id: UID,
    owner: address,
    matrix: vector<vector<u8>>, // 16x16 çŸ©é™£
    created_at: u64,
    updated_at: u64,
}
```

#### `SBTRegistry`
```move
struct SBTRegistry has key {
    id: UID,
    user_sbts: vector<SBTRecord>,
}
```

### ä¸»è¦å‡½æ•¸

#### `mint_or_update_sbt`
```move
public entry fun mint_or_update_sbt(
    registry: &mut SBTRegistry,
    matrix_data: vector<vector<u8>>,
    ctx: &mut TxContext
)
```
- **åŠŸèƒ½**ï¼šé‘„é€ æ–° SBT æˆ–æ›´æ–°ç¾æœ‰ SBT
- **æª¢æŸ¥**ï¼šè‡ªå‹•æª¢æŸ¥ç”¨æˆ¶æ˜¯å¦å·²æœ‰ SBT
- **é©—è­‰**ï¼šé©—è­‰çŸ©é™£æ ¼å¼å’Œæ•¸å€¼ç¯„åœ

#### æŸ¥è©¢å‡½æ•¸
- `user_has_sbt`: æª¢æŸ¥ç”¨æˆ¶æ˜¯å¦æ“æœ‰ SBT
- `get_matrix`: ç²å– SBT çš„çŸ©é™£æ•¸æ“š
- `get_owner`: ç²å– SBT æ“æœ‰è€…
- `get_created_at`: ç²å–å‰µå»ºæ™‚é–“
- `get_updated_at`: ç²å–æ›´æ–°æ™‚é–“

## ä½¿ç”¨æµç¨‹

### 1. éƒ¨ç½²åˆç´„
```bash
cd sui_contract
```

### 2. å‰ç«¯é›†æˆ
```typescript
// æº–å‚™çŸ©é™£æ•¸æ“š
const matrix: number[][] = /* 16x16 çŸ©é™£ */;

// èª¿ç”¨åˆç´„
await suiClient.executeTransactionBlock({
    transactionBlock: tx,
    signer: wallet,
    options: {
        showEffects: true,
        showEvents: true,
    },
});
```

### 3. å·¥ä½œæµç¨‹
1. ç”¨æˆ¶åœ¨å‰ç«¯è¼¸å…¥æˆ–ç”Ÿæˆ 16x16 çŸ©é™£
2. å‰ç«¯é©—è­‰çŸ©é™£æ ¼å¼
3. èª¿ç”¨ `mint_or_update_sbt` å‡½æ•¸
4. åˆç´„æª¢æŸ¥ç”¨æˆ¶æ˜¯å¦å·²æœ‰ SBT
5. æ ¹æ“šæƒ…æ³é‘„é€ æ–° SBT æˆ–æ›´æ–°ç¾æœ‰ SBT
6. ç”¨æˆ¶æ”¯ä»˜ gas è²»ç”¨
7. SBT è½‰ç§»åˆ°ç”¨æˆ¶éŒ¢åŒ…

## äº‹ä»¶

### `SBTMinted`
```move
struct SBTMinted has copy, drop {
    sbt_id: address,
    owner: address,
    timestamp: u64,
}
```

### `SBTUpdated`
```move
struct SBTUpdated has copy, drop {
    sbt_id: address,
    owner: address,
    timestamp: u64,
}
```

## å®‰å…¨æ€§è€ƒé‡

### âœ… å·²å¯¦ç¾
- çŸ©é™£æ ¼å¼é©—è­‰
- æ•¸å€¼ç¯„åœæª¢æŸ¥ï¼ˆu8 è‡ªå‹•é™åˆ¶ 0-255ï¼‰
- æ“æœ‰è€…èº«ä»½é©—è­‰
- éˆé­‚ç¶å®šç‰¹æ€§

### âš ï¸ æ³¨æ„äº‹é …
- SBT æ›´æ–°æœƒå‰µå»ºæ–°çš„å°è±¡ï¼ŒèˆŠçš„ SBT éœ€è¦å‰ç«¯è™•ç†
- è¨»å†Šè¡¨æ˜¯å…±äº«å°è±¡ï¼Œæ‰€æœ‰ç”¨æˆ¶å…±ç”¨
- Gas è²»ç”¨ç”±èª¿ç”¨è€…æ‰¿æ“”

## æ¸¬è©¦

é‹è¡Œæ¸¬è©¦ï¼š
```bash
sui move test
```

æ¸¬è©¦æ¶µè“‹ï¼š
- æ–° SBT é‘„é€ 
- ç¾æœ‰ SBT æ›´æ–°
- çŸ©é™£é©—è­‰
- ç”¨æˆ¶ç‹€æ…‹è¿½è¹¤

## èˆ‡å‰ç«¯é›†æˆ

å‰ç«¯éœ€è¦ï¼š
1. é€£æ¥ Sui éŒ¢åŒ…
2. æº–å‚™ 16x16 çŸ©é™£æ•¸æ“š
3. èª¿ç”¨åˆç´„å‡½æ•¸
4. è™•ç†äº¤æ˜“çµæœå’Œäº‹ä»¶
5. æ›´æ–° UI ç‹€æ…‹

å»ºè­°ä½¿ç”¨ `@mysten/dapp-kit` é€²è¡Œé›†æˆã€‚
